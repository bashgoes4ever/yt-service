{"version":3,"sources":["webpack:///./src/components/EditOrder.vue?628b","webpack:///src/components/EditOrder.vue","webpack:///./src/components/EditOrder.vue?8a9b","webpack:///./src/components/EditOrder.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","model","value","callback","$$v","name","expression","account","total_price","plans","v","plan","provider_id","amount","remains","price","statuses","status","comment","on","submit","staticRenderFns","component","VBtn","VCol","VContainer","VForm","VRow","VSelect","VTextField","VTextarea"],"mappings":"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","file":"js/chunk-2d0aed26.9b1aaca6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',{staticClass:\"mt-5\",attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('h2',[_vm._v(\"Редактирование заказа\")]),_c('v-form',[_c('v-text-field',{attrs:{\"disabled\":\"\",\"label\":\"Название\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('v-text-field',{attrs:{\"disabled\":\"\",\"label\":\"Пользователь\"},model:{value:(_vm.account),callback:function ($$v) {_vm.account=$$v},expression:\"account\"}}),_c('v-text-field',{attrs:{\"disabled\":\"\",\"label\":\"Общая сумма заказа\"},model:{value:(_vm.total_price),callback:function ($$v) {_vm.total_price=$$v},expression:\"total_price\"}}),_c('v-select',{attrs:{\"items\":_vm.plans,\"item-text\":\"name\",\"item-value\":\"id\",\"label\":\"План\",\"rules\":[function (v) { return !!v || 'Обязательное поле'; }]},model:{value:(_vm.plan),callback:function ($$v) {_vm.plan=$$v},expression:\"plan\"}}),_c('v-text-field',{attrs:{\"label\":\"ID провадйера\"},model:{value:(_vm.provider_id),callback:function ($$v) {_vm.provider_id=$$v},expression:\"provider_id\"}}),_c('v-text-field',{attrs:{\"type\":\"number\",\"label\":\"Количество\",\"rules\":[function (v) { return !!v || 'Обязательное поле'; }],\"required\":\"\"},model:{value:(_vm.amount),callback:function ($$v) {_vm.amount=$$v},expression:\"amount\"}}),_c('v-text-field',{attrs:{\"type\":\"number\",\"label\":\"Остаток\",\"rules\":[function (v) { return !!v || 'Обязательное поле'; }],\"required\":\"\"},model:{value:(_vm.remains),callback:function ($$v) {_vm.remains=$$v},expression:\"remains\"}}),_c('v-text-field',{attrs:{\"type\":\"number\",\"label\":\"Цена\",\"rules\":[function (v) { return !!v || 'Обязательное поле'; }],\"required\":\"\"},model:{value:(_vm.price),callback:function ($$v) {_vm.price=$$v},expression:\"price\"}}),_c('v-select',{attrs:{\"items\":_vm.statuses,\"item-text\":\"name\",\"item-value\":\"id\",\"label\":\"Статус\"},model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}}),_c('v-textarea',{attrs:{\"label\":\"Комментарий\"},model:{value:(_vm.comment),callback:function ($$v) {_vm.comment=$$v},expression:\"comment\"}}),_c('v-btn',{staticClass:\"primary\",attrs:{\"disabled\":!_vm.amount || !_vm.remains},on:{\"click\":_vm.submit}},[_vm._v(\" Редактировать заказ \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-container>\r\n        <v-row class=\"mt-5\" justify=\"center\">\r\n            <v-col cols=\"6\">\r\n                <h2>Редактирование заказа</h2>\r\n                <v-form>\r\n                    <v-text-field\r\n                            v-model=\"name\"\r\n                            disabled\r\n                            label=\"Название\"\r\n                    ></v-text-field>\r\n                    <v-text-field\r\n                            v-model=\"account\"\r\n                            disabled\r\n                            label=\"Пользователь\"\r\n                    ></v-text-field>\r\n                    <v-text-field\r\n                            v-model=\"total_price\"\r\n                            disabled\r\n                            label=\"Общая сумма заказа\"\r\n                    ></v-text-field>\r\n                    <v-select\r\n                            v-model=\"plan\"\r\n                            :items=\"plans\"\r\n                            item-text=\"name\"\r\n                            item-value=\"id\"\r\n                            label=\"План\"\r\n                            :rules=\"[v => !!v || 'Обязательное поле']\"\r\n                    ></v-select>\r\n                    <v-text-field\r\n                            v-model=\"provider_id\"\r\n                            label=\"ID провадйера\"\r\n                    ></v-text-field>\r\n                    <v-text-field\r\n                            v-model=\"amount\"\r\n                            type=\"number\"\r\n                            label=\"Количество\"\r\n                            :rules=\"[v => !!v || 'Обязательное поле']\"\r\n                            required\r\n                    ></v-text-field>\r\n                    <v-text-field\r\n                            v-model=\"remains\"\r\n                            type=\"number\"\r\n                            label=\"Остаток\"\r\n                            :rules=\"[v => !!v || 'Обязательное поле']\"\r\n                            required\r\n                    ></v-text-field>\r\n                    <v-text-field\r\n                            v-model=\"price\"\r\n                            type=\"number\"\r\n                            label=\"Цена\"\r\n                            :rules=\"[v => !!v || 'Обязательное поле']\"\r\n                            required\r\n                    ></v-text-field>\r\n                    <v-select\r\n                            v-model=\"status\"\r\n                            :items=\"statuses\"\r\n                            item-text=\"name\"\r\n                            item-value=\"id\"\r\n                            label=\"Статус\"\r\n                    ></v-select>\r\n\r\n                    <v-textarea\r\n                            v-model=\"comment\"\r\n                            label=\"Комментарий\"\r\n                    ></v-textarea>\r\n                    <v-btn @click=\"submit\" :disabled=\"!amount || !remains\" class=\"primary\">\r\n                        Редактировать заказ\r\n                    </v-btn>\r\n                </v-form>\r\n            </v-col>\r\n        </v-row>\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\n    import {mapActions} from 'vuex'\r\n    export default {\r\n        name: \"EditOrder\",\r\n        data: () => ({\r\n            account: null,\r\n            isLoading: false,\r\n            search: null,\r\n            plan: null,\r\n            plans: [],\r\n            amount: null,\r\n            remains: null,\r\n            provider_id: null,\r\n            name: null,\r\n            comment: null,\r\n            status: null,\r\n            statuses: [],\r\n            price: null,\r\n            total_price: null\r\n        }),\r\n\r\n        mounted() {\r\n            this.getOrder()\r\n            this.getPlans()\r\n            this.getStatuses()\r\n        },\r\n\r\n        methods: {\r\n            ...mapActions(['setAlert']),\r\n            async getPlans() {\r\n                const res = await this.axios({url: `${process.env.VUE_APP_SERVER_URL}api/v1/plans/`, method: 'GET'})\r\n                this.plans = res.data\r\n            },\r\n            async getOrder() {\r\n                const res = await this.axios({url: `${process.env.VUE_APP_SERVER_URL}api/v1/orders/${this.$route.params.id}`, method: 'GET'})\r\n                this.account = res.data.user.email\r\n                this.plan = res.data.plan ? res.data.plan.id : null\r\n                this.amount = res.data.amount\r\n                this.remains = res.data.remains\r\n                this.provider_id = res.data.provider_id\r\n                this.name = res.data.name\r\n                this.comment = res.data.comment\r\n                this.status = res.data.status.id\r\n                this.price = res.data.price\r\n                this.total_price = res.data.total_price\r\n            },\r\n            async getStatuses() {\r\n                const res = await this.axios({url: `${process.env.VUE_APP_SERVER_URL}api/v1/orders/statuses`, method: 'GET'})\r\n                this.statuses = res.data\r\n            },\r\n            submit() {\r\n                const data = {\r\n                    plan: this.plan,\r\n                    amount: this.amount,\r\n                    remains: this.remains\r\n                }\r\n                if (this.provider_id) data['provider_id'] = this.provider_id\r\n                if (this.comment) data['comment'] = this.comment\r\n                if (this.status) data['status'] = this.status\r\n                this.axios({\r\n                    url: `${process.env.VUE_APP_SERVER_URL}api/v1/orders/${this.$route.params.id}`, method: 'PUT', data\r\n                }).then(() => {\r\n                    this.setAlert({\r\n                        active: true,\r\n                        color: 'success',\r\n                        text: 'Заказ создан'\r\n                    })\r\n                    this.$router.push('/orders')\r\n                }).catch(err => {\r\n                    this.setAlert({\r\n                        active: true,\r\n                        color: 'error',\r\n                        text: err.response.data\r\n                    })\r\n                })\r\n            }\r\n        },\r\n\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditOrder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditOrder.vue?vue&type=template&id=6d049d2c&scoped=true&\"\nimport script from \"./EditOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./EditOrder.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d049d2c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VCol,VContainer,VForm,VRow,VSelect,VTextField,VTextarea})\n"],"sourceRoot":""}